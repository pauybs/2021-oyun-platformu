$(document).ready(function(){function i(){cwidth=$(window).width(),cwidth<=575.98?(width=230,height=180):(width=760,height=480)}$("body").on("click",".hig",function(){swal({title:"Bilgileri kaydetmek istediğine emin misin?",buttons:["İptal","Tamam"]}).then(i=>{if(i){value=$(".icrkph").croppie("get").points,$("input[name=img]").val(value);var t=CKEDITOR.instances.ckeditor1.getData();if($("textarea[name=Yazi]").val(t),".zip"==$("input[name=IcerikResmi]").val().substr(-4))return $("input[name=IcerikResmi]").val(""),swal({title:"JPG, JPEG veya PNG dosyası yükleyiniz",icon:"warning",buttons:[!1,"Tamam"]}),!1;var e=$(".higs")[0],a=new FormData(e);$.ajax({type:"post",url:"icerikd",dataType:"json",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,data:a,beforeSend:function(){$(".hib").html('<button class="call-to-action"><div><div>Kaydediliyor..</div></div></button>')},success:function(i){$(".hib").html('<button class="call-to-action hig" type="submit" ><div><div>Kaydet</div></div></button>'),"null"==i.statu?swal({title:"Lütfen zorunlu alanları doldurunuz.",text:"İçerik yazınızı boş bırakmayınız.",icon:"error",buttons:[!1,"Tamam"]}):"video"==i.statu?swal({title:"Geçersiz  Video Id'si",text:"Lütfen doğru video id'si girdiğinizden emin olun.",icon:"warning",buttons:[!1,"Tamam"]}):"long"==i.statu?swal({title:"İçerik başlığı 100 karakterden uzun olmamalı",icon:"warning",buttons:[!1,"Tamam"]}):"imageError"==i.statu?($("input[name=IcerikResmi]").val(""),swal({title:"Resim yüklenemedi. Lütfen başka bir resim yükleyiniz.",icon:"error",buttons:[!1,"Tamam"]})):"size"==i.statu?($("input[name=IcerikResmi]").val(""),swal({title:"Resim 2MB'dan yüksek olamaz.",icon:"warning",buttons:[!1,"Tamam"]})):"type"==i.statu?($("input[name=IcerikResmi]").val(""),swal({title:"JPG, JPEG veya PNG dosyası yükleyiniz",icon:"warning",buttons:[!1,"Tamam"]})):"success"==i.statu?($(".icrkph").css({display:"none"}),$(".hids").html('<div class="row "><div class="col-12"><div class="row"><div class="col-12 text-center mt-5"><i class="far fa-check-circle fa-5x green"></i></div><div class="col-12 text-center mt-2 mb-5 font20 white"><p>Bilgileriniz kaydedilmiştir.</p></div></div></div></div>'),setTimeout(function(){window.location.reload(1)},500)):"error"==i.statu&&($(".icrkph").css({display:"none"}),$(".hids").html('<div class="row "><div class="col-12  "><div class="row"><div class="col-12 text-center mt-5"><i class="fas fa-times fa-5x red" ></i></div><div class="col-12 text-center mt-2 mb-5 font20 white"><p>Bilgileriniz kaydedilememiştir.</p><p>Beklenmeyen bir hata oluştu. Lütfen daha sonra tekrar deneyiniz.</p></div></div></div></div>'),setTimeout(function(){window.location.reload(1)},500))}})}})}),i(),$(window).resize(function(){i()}),$(function(){$(".icrkph").css({display:"none"}),$uploadCrop=$(".icrkph").croppie({enableExif:!0,viewport:{width:width,height:height},boundary:{width:width,height:height}}),$("#upload").on("change",function(){$(".icrkph").css({display:"block"});var i=document.getElementById("upload");if(i.files&&i.files[0]){var t=new FileReader;t.onload=function(){var i=t.result;$uploadCrop.croppie("bind",{url:i})},t.readAsDataURL(i.files[0])}})})});